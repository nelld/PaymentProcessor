<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment - Secure Checkout</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="payment-wrapper">
            <!-- Header -->
            <header class="payment-header">
                <h1>Payment</h1>
                <div class="security-badge">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M8 0L2 3V7C2 10.866 5.134 14 8 14C10.866 14 14 10.866 14 7V3L8 0Z" fill="#10B981"/>
                        <path d="M6.5 8L7.5 9L10 6.5" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Secure Payment</span>
                </div>
            </header>

            <!-- Order Summary (Collapsible on Mobile) -->
            <div class="order-summary collapsed">
                <div class="summary-header" onclick="toggleSummary()">
                    <div class="summary-title">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M3 3H17V17H3V3Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
                            <path d="M7 8H13M7 12H10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        <span>Order Summary</span>
                    </div>
                    <div class="summary-amount">
                        <span class="total-amount">$100.00 USD</span>
                        <svg class="chevron" width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M6 8L10 12L14 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>
                <div class="summary-details">
                    <div class="summary-item">
                        <span>Subtotal</span>
                        <span>$85.00</span>
                    </div>
                    <div class="summary-item">
                        <span>Tax</span>
                        <span>$8.50</span>
                    </div>
                    <div class="summary-item">
                        <span>Processing Fee</span>
                        <span>$6.50</span>
                    </div>
                    <div class="summary-divider"></div>
                    <div class="summary-item summary-total">
                        <span>Total</span>
                        <span>$100.00 USD</span>
                    </div>
                </div>
            </div>

            <!-- Quick Pay Options -->
            <section class="quick-pay-section">
                <h2 class="section-title">Express Checkout</h2>
                <div class="quick-pay-buttons single-button">
                    <button class="quick-pay-btn apple-pay" onclick="handleApplePay()">
                        <img src="images/apple-pay.png" alt="Apple Pay" class="payment-logo">
                    </button>
                </div>
                <div class="divider">
                    <span>Or pay with card</span>
                </div>
            </section>

            <!-- Card Payment Form (Always Visible) -->
            <section class="new-card-section active" id="newCardSection">
                <div class="section-header">
                    <h2 class="section-title">Payment Information</h2>
                </div>

                <form id="newCardForm" class="card-form">
                    <!-- Card Type Selection -->
                    <div class="form-group">
                        <label>Card Type *</label>
                        <div class="card-type-selector">
                            <label class="card-type-option">
                                <input type="radio" name="newCardType" value="credit" checked onchange="updateNewCardType('credit')">
                                <div class="card-type-box">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                        <rect x="2" y="5" width="20" height="14" rx="2" stroke="currentColor" stroke-width="2"/>
                                        <path d="M2 10H22" stroke="currentColor" stroke-width="2"/>
                                        <path d="M6 15H10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    </svg>
                                    <span class="card-type-title">Credit Card</span>
                                </div>
                            </label>
                            <label class="card-type-option">
                                <input type="radio" name="newCardType" value="debit" onchange="updateNewCardType('debit')">
                                <div class="card-type-box">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                        <rect x="2" y="5" width="20" height="14" rx="2" stroke="currentColor" stroke-width="2"/>
                                        <path d="M2 10H22" stroke="currentColor" stroke-width="2"/>
                                        <circle cx="7" cy="15" r="1.5" fill="currentColor"/>
                                        <path d="M11 15H17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    </svg>
                                    <span class="card-type-title">Debit Card</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="form-divider"></div>

                    <div class="form-group">
                        <label for="cardNumber">Card Number *</label>
                        <div class="input-wrapper">
                            <input 
                                type="text" 
                                id="cardNumber" 
                                placeholder="1234 5678 9012 3456"
                                maxlength="19"
                                oninput="formatCardNumber(this)"
                                required
                            >
                            <div class="card-type-icon" id="cardTypeIcon"></div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="cardExpiry">Expiry Date *</label>
                            <input 
                                type="text" 
                                id="cardExpiry" 
                                placeholder="MM/YY"
                                maxlength="5"
                                oninput="formatExpiry(this)"
                                required
                            >
                        </div>
                        <div class="form-group">
                            <label for="cardCvv">CVV *</label>
                            <div class="input-wrapper">
                                <input 
                                    type="text" 
                                    id="cardCvv" 
                                    placeholder="123"
                                    maxlength="4"
                                    oninput="formatCVV(this)"
                                    required
                                >
                                <button type="button" class="info-btn" onclick="showCVVInfo()">
                                    <svg width="16" height="16" viewBox="0 0 16 16">
                                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5" fill="none"/>
                                        <path d="M8 7V12M8 5V5.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="cardName">Cardholder Name *</label>
                        <input 
                            type="text" 
                            id="cardName" 
                            placeholder="John Doe"
                            value="JOHN DOE"
                            oninput="this.value = this.value.toUpperCase()"
                            required
                        >
                    </div>

                    <div class="form-group">
                        <label for="billingAddress">Billing Address *</label>
                        <input 
                            type="text" 
                            id="billingAddress" 
                            placeholder="123 Main St, City, State, ZIP"
                            value="123 Main Street, Anytown, CA 12345"
                            required
                        >
                    </div>

                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="saveCard" checked>
                            <span class="checkbox-custom"></span>
                            <span>Save this card for future payments</span>
                        </label>
                    </div>
                </form>
            </section>

            <!-- Security & Trust Indicators -->
            <!-- <div class="security-features"> -->
                <!-- <div class="security-feature-item"> -->
                    <!-- <svg width="20" height="20" viewBox="0 0 20 20" fill="none"> -->
                        <!-- <path d="M10 1L4 4V9C4 13.418 7.058 16.5 10 17C12.942 16.5 16 13.418 16 9V4L10 1Z" stroke="#10B981" stroke-width="1.5" fill="none"/> -->
                        <!-- <path d="M8 10L9.5 11.5L12 9" stroke="#10B981" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> -->
                    <!-- </svg> -->
                    <!-- <div class="security-feature-text"> -->
                        <!-- <strong>Bank-level encryption</strong> -->
                        <!-- <span>Your data is protected with 256-bit SSL</span> -->
                    <!-- </div> -->
                <!-- </div> -->
                <!-- <div class="security-feature-item"> -->
                    <!-- <svg width="20" height="20" viewBox="0 0 20 20" fill="none"> -->
                        <!-- <rect x="3" y="8" width="14" height="9" rx="1.5" stroke="#10B981" stroke-width="1.5"/> -->
                        <!-- <path d="M6 8V6C6 3.79086 7.79086 2 10 2C12.2091 2 14 3.79086 14 6V8" stroke="#10B981" stroke-width="1.5"/> -->
                        <!-- <circle cx="10" cy="12.5" r="1" fill="#10B981"/> -->
                        <!-- <path d="M10 13.5V14.5" stroke="#10B981" stroke-width="1.5" stroke-linecap="round"/> -->
                    <!-- </svg> -->
                    <!-- <div class="security-feature-text"> -->
                        <!-- <strong>PCI DSS Compliant</strong> -->
                        <!-- <span>We never store your full card details</span> -->
                    <!-- </div> -->
                <!-- </div> -->
                <!-- <div class="security-feature-item"> -->
                    <!-- <svg width="20" height="20" viewBox="0 0 20 20" fill="none"> -->
                        <!-- <circle cx="10" cy="10" r="7.5" stroke="#10B981" stroke-width="1.5"/> -->
                        <!-- <path d="M10 6V10L13 12" stroke="#10B981" stroke-width="1.5" stroke-linecap="round"/> -->
                    <!-- </svg> -->
                    <!-- <div class="security-feature-text"> -->
                        <!-- <strong>Real-time fraud detection</strong> -->
                        <!-- <span>Advanced monitoring protects every transaction</span> -->
                    <!-- </div> -->
                <!-- </div> -->
            <!-- </div> -->

            <!-- Terms and Privacy Agreement -->
            <div class="agreement-section">
                <div class="agreement-checkbox">
                    <label class="checkbox-label">
                        <input type="checkbox" id="termsAgreement" required>
                        <span class="checkbox-custom"></span>
                        <span class="agreement-text">
                            I have read and agree to the 
                            <a href="#" onclick="showTerms(event)" class="agreement-link">Terms and Conditions</a> 
                            and 
                            <a href="#" onclick="showPrivacy(event)" class="agreement-link">Privacy Policy</a>
                        </span>
                    </label>
                </div>
                
                <div class="recaptcha-notice">
                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" class="recaptcha-icon">
                        <path d="M7 0C3.13 0 0 3.13 0 7s3.13 7 7 7 7-3.13 7-7-3.13-7-7-7zm0 12.5c-3.03 0-5.5-2.47-5.5-5.5S3.97 1.5 7 1.5s5.5 2.47 5.5 5.5-2.47 5.5-5.5 5.5z" fill="#9CA3AF"/>
                        <path d="M6.5 4h1v4h-1V4zm0 5h1v1h-1V9z" fill="#9CA3AF"/>
                    </svg>
                    <p>
                        This site is protected by reCAPTCHA and the Google
                        <a href="https://policies.google.com/privacy" target="_blank" class="recaptcha-link">Privacy Policy</a>
                        and
                        <a href="https://policies.google.com/terms" target="_blank" class="recaptcha-link">Terms of Service</a>
                        apply.
                    </p>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn-secondary" onclick="goBack()">Cancel</button>
                <button class="btn-primary" onclick="processPayment()">
                    <span>Pay $100.00</span>
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M5 10H15M15 10L11 6M15 10L11 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>Processing your payment...</p>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content success">
            <div class="success-icon">
                <svg width="64" height="64" viewBox="0 0 64 64">
                    <circle cx="32" cy="32" r="32" fill="#10B981"/>
                    <path d="M20 32L28 40L44 24" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <h2>Payment Successful!</h2>
            <p>Your payment of $100.00 has been processed successfully.</p>
            <button class="btn-primary" onclick="closeSuccessModal()">Done</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

